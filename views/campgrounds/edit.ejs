<% layout('layouts/boilerplate') %>

<div class="row">
	<h1 class="text-center">Edit Campgound</h1>
	<div class="col-md-6 offset-md-3">
		<form action="/campgrounds/<%= campground._id %>?_method=PUT" method="POST" novalidate class="validated-form" enctype="multipart/form-data"> 
		<div class="mb-3">
			<label class="form-label" for="title">Title: </label>
			<input class="form-control" type="text" name="campground[title]" id="title" value="<%= campground.title %>" required>
			<div class="invalid-feedback">
				Please provide a title
			</div>
		</div>
		<div class="mb-3">
			<label class="form-label" for="location">Location: </label>
			<input class="form-control" type="text" name="campground[location]" id="location" value="<%= campground.location %>" required>
			<div class="invalid-feedback">
				Please insert a location
			</div>
		</div>
		<div class="mb-3 form-file">
			<label class="form-file-label" for="image">Add images: </label>
			<input class="form-control form-file-input" type="file" name="image" id="image" multiple>
			<div class="invalid-feedback">
				Please upload an image
			</div>
		</div>
		<div class="mb-3">
			<% campground.images.forEach(function(img, i){ %>
				<img src="<%= img.thumbnail %>" class="img-thumbnail" alt="">
				<div class="form-check-inline">
					<input type="checkbox" name="deleteImages[]" id="image-<%i%>" value="<%=img.filename%>">
				</div>
				<label for="image-<%=i%>">Delete?</label>
			<% }) %>
		</div>
		<div class="mb-3">
			<label for="price" class="form-label">Cost per night</label>
			<div class="input-group">
				<span class="input-group-text" id="price-label">$</span>
				<input type="text" name="campground[price]" class="form-control" placeholder="0.00" aria-label="price"
				aria-describedby="price-label" id="price"  value="<%= campground.price %>" required>
				<div class="invalid-feedback">
					 Please insert the price
				</div>
			</div>
		</div>
		<div class="mb-3">
			<label class="form-label" for="description">Description</label>
			<textarea class="form-control" type="text" name="campground[description]" id="description" required><%= campground.description %></textarea>
			<div class="invalid-feedback">
				Please write a description
			</div>
		</div>
		<div class="mb-3">
			<button class="btn btn-success">Edit Campground</button>
		</div>
		</form>
		<footer>
			<a href="/campgrounds/<%= campground._id %>">Cancel</a>
		</footer>
	</div>
</div>